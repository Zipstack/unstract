# Task Backend Worker Configuration

# Backend Selection (celery, hatchet, temporal)
TASK_BACKEND_TYPE=celery

# Worker Configuration
TASK_WORKER_NAME=task-worker-01
TASK_WORKER_CONCURRENCY=4
TASK_WORKER_LOG_LEVEL=INFO

# Celery Configuration (when TASK_BACKEND_TYPE=celery)
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_QUEUES=["default", "file_processing", "api_processing"]

# Hatchet Configuration (when TASK_BACKEND_TYPE=hatchet)
HATCHET_CLIENT_TOKEN=
HATCHET_CLIENT_TLS_STRATEGY=tls
HATCHET_CLIENT_SERVER_URL=https://app.hatchet.run
HATCHET_WORKER_NAME=task-worker

# Temporal Configuration (when TASK_BACKEND_TYPE=temporal)
TEMPORAL_HOST=localhost
TEMPORAL_PORT=7233
TEMPORAL_NAMESPACE=default
TEMPORAL_TASK_QUEUE=task-queue
TEMPORAL_WORKER_IDENTITY=task-worker-01

# Database (for state management)
DATABASE_URL=postgresql://unstract:unstract@localhost:5432/unstract

# Redis (for coordination between workers)
REDIS_URL=redis://localhost:6379/0

# Monitoring
LOG_LEVEL=INFO
STRUCTURED_LOGGING=true

# Health Check
HEALTH_CHECK_INTERVAL=30
BACKEND_HEALTH_TIMEOUT=10

# Graceful Shutdown
SHUTDOWN_TIMEOUT=30
